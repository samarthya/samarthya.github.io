---
title: "Projects"
format:
  html:
    theme: journal
    toc: true
    css: styles.css
    page-layout: full
---

```{python}
#| echo: false
#| output: asis
#| raw: true

import requests
import json
from datetime import datetime
from IPython.display import HTML, display

def fetch_github_repos(username="samarthya"):
    url = f"https://api.github.com/users/{username}/repos"
    response = requests.get(url)
    if response.status_code == 200:
        repos = response.json()
        # Sort by stars and get top 5
        return sorted(repos, key=lambda x: (x['stargazers_count'], x['forks_count']), reverse=True)[:5]
    return []

repos = fetch_github_repos()

# Build HTML content
html_content = '<div class="projects-grid">'
for repo in repos:
    # Format date
    updated_at = datetime.strptime(repo['updated_at'], '%Y-%m-%dT%H:%M:%SZ').strftime('%B %d, %Y')

    # Fix language color display
    language_color = repo['language'].lower() if repo['language'] else '#888'
    if language_color == 'java':
        language_color = '#b07219'  # Standard GitHub color for Java
    elif language_color == 'python':
        language_color = '#3572A5'  # Standard GitHub color for Python
    elif language_color == 'javascript':
        language_color = '#f1e05a'  # Standard GitHub color for JavaScript

    html_content += f"""
    <div class="project-card">
        <h3><a href="{repo['html_url']}" target="_blank">{repo['name']}</a></h3>
        <p class="description">{repo['description'] or 'No description available'}</p>
        <div class="stats">
            <span><i class="fas fa-star"></i> {repo['stargazers_count']}</span>
            <span><i class="fas fa-code-branch"></i> {repo['forks_count']}</span>
            <span><i class="fas fa-circle" style="color: {language_color};"></i> {repo['language'] or 'Unknown'}</span>
        </div>
        <div class="updated">Last updated: {updated_at}</div>
    </div>
    """
html_content += '</div>'

# Display the HTML content
display(HTML(html_content))
```

:::{.callout-note}
These are my top 5 GitHub repositories based on stars and forks. Click on any project to view its source code and documentation.
:::